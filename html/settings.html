<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <script src="/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/css/estilazo.css">
    
    <link rel="shortcut icon" href="/assets/img/happy-orange_99796.ico" type="image/x-icon">
    <title>Frenzy Fruit</title>
</head>

<body class="backSettings">
    <div id="setting">
        <ul id="listilla">
            <li>
                <div for="customRange2" id="prueba" style="font-size: 40px;" class="form-label controlsbuttons">Volumen
                </div>
                <input type="range" value="0" ;
                    style="height: 30px; border-radius: 30px; margin: 0px; padding-bottom: 0px;"
                    class="form-range selected" min="0" max="1" step="0.1" id="volRange">

                <div style="font-size: 40px;" class="controlsbuttons" id="two">Controles</div>
                <div>
                    <img class="controls" id="btnletras" type="button" src="/assets/img/Control3.png" />
                    <img class="controls" id="btnflechas" type="button" src="/assets/img/Control4.png" />
                </div>
            </li>
            <li><a href="index.html" style="font-size: 40px;" id="back">Volver</a></li>
        </ul>
    </div>
    <audio>
        <source src="../assets/audio/click-21156.mp3"></source>
        no audio
    </audio>
    <script>
        function getCookie(cName) {
            const name = cName + "=";
            const cDecoded = decodeURIComponent(document.cookie); //to be careful
            const cArr = cDecoded.split('; ');
            let res;
            cArr.forEach(val => {
                if (val.indexOf(name) === 0) res = val.substring(name.length);
            })
            return res;
        }
        var lvlvol = getCookie("varVolumen");
        var selControl = getCookie("control");

        var audio = document.getElementsByTagName("audio")[0];
        var buttonGame = document.getElementById('one');
        var buttonMulti = document.getElementById('two');
        var buttonBack = document.getElementById('back');
        var buttonSett = document.getElementById('four');
        var btnlet = document.getElementById('btnletras');
        var btnfle = document.getElementById('btnflechas');
        var volRange = document.getElementById('volRange');
        if (lvlvol != null) {
            volRange.value = lvlvol;
            document.getElementById("prueba").innerHTML = "Volumen " + lvlvol * 100 + "%";
        }
        if (selControl != null) {
            if (selControl == "letras") {
                btnlet.style.backgroundColor = 'yellow';
                btnfle.style.backgroundColor = 'white';
            }
            if (selControl == "flechas") {
                btnfle.style.backgroundColor = 'yellow';
                btnlet.style.backgroundColor = 'white';
            }
        }
        btnlet.addEventListener("click", () => {
            btnlet.style.backgroundColor = 'yellow';
            btnfle.style.backgroundColor = 'white';
            document.cookie = `control=${encodeURIComponent("letras")}; max-age=${7 * 24 * 60 * 60}`
        })
        btnfle.addEventListener("click", () => {
            btnfle.style.backgroundColor = 'yellow';
            btnlet.style.backgroundColor = 'white';
            document.cookie = `control=${encodeURIComponent("flechas")}; max-age=${7 * 24 * 60 * 60}`
        })
        volRange.addEventListener("change", function (ev) {
            document.cookie = `varVolumen=${encodeURIComponent(ev.currentTarget.value)}; max-age=${7 * 24 * 60 * 60}`
            var number = ev.currentTarget.value;
            document.getElementById("prueba").innerHTML = "Volumen " + number * 100 + "%";
        }, true);
        buttonBack.addEventListener('mouseenter', (e) => {
            audio.play();
        });
        btnlet.addEventListener('mouseenter', (e) => {
            audio.play();
        });
        btnfle.addEventListener('mouseenter', (e) => {
            audio.play();
        });
    </script>
</body>

</html>